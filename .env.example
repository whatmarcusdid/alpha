# Environment Variables Template
# Copy this file to .env.local and fill in your actual values
# NEVER commit .env.local to version control

# ==============================================================================
# STRIPE CONFIGURATION (Payment Processing)
# ==============================================================================
# Get these from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key_here

# Stripe Webhook Secret (for webhook signature verification)
# Get from: https://dashboard.stripe.com/webhooks
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# ==============================================================================
# FIREBASE ADMIN SDK (Server-side Authentication & Database)
# ==============================================================================
# Get these from Firebase Console > Project Settings > Service Accounts
# Download service account JSON, then extract these values:
FIREBASE_PROJECT_ID=your-project-id
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxxx@your-project-id.iam.gserviceaccount.com
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYour-Private-Key-Here\n-----END PRIVATE KEY-----\n"

# ==============================================================================
# FIREBASE CLIENT SDK (Browser-side Authentication & Database)
# ==============================================================================
# Get these from Firebase Console > Project Settings > General > Your apps
# NEXT_PUBLIC_ prefix makes these available to the browser (safe for Firebase config)
NEXT_PUBLIC_FIREBASE_API_KEY=AIzaSyXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=your-project-id.firebaseapp.com
NEXT_PUBLIC_FIREBASE_PROJECT_ID=your-project-id
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=your-project-id.appspot.com
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=123456789012
NEXT_PUBLIC_FIREBASE_APP_ID=1:123456789012:web:abcdef1234567890abcdef

# NOTE: These values were previously hardcoded in lib/firebase.ts
# They have been moved to environment variables for better security practices

# ==============================================================================
# UPSTASH REDIS (API Rate Limiting)
# ==============================================================================
# REQUIRED for rate limiting on API routes (prevents abuse)
# Get these from: https://console.upstash.com
# 1. Sign up at upstash.com (free tier available)
# 2. Create a Redis database
# 3. Copy REST URL and REST TOKEN from database details
UPSTASH_REDIS_REST_URL=https://your-redis-instance.upstash.io
UPSTASH_REDIS_REST_TOKEN=your_upstash_token_here

# NOTE: If these are not set, rate limiting will be disabled (logs warning)
# Development: Optional but recommended for testing
# Production: REQUIRED for security

# ==============================================================================
# ZAPIER INTEGRATION (Support Ticket Automation)
# ==============================================================================
# Webhook URL for forwarding support tickets to Notion via Zapier
# Get from: Your Zapier webhook configuration
NEXT_PUBLIC_ZAPIER_WEBHOOK_URL=https://hooks.zapier.com/hooks/catch/xxxxx/xxxxx

# ==============================================================================
# DELIVERY SCOUT API (Lindy AI Integration)
# ==============================================================================
# API key for authenticating requests from Lindy AI to the delivery-scout endpoint
# 
# GENERATE A SECURE KEY:
#   openssl rand -hex 32
# 
# SECURITY REQUIREMENTS:
#   - Must be 64 characters (256-bit hex string)
#   - Use DIFFERENT keys for development and production
#   - Never commit this key to version control
#   - Never log this key in error messages
#   - Rotate every 90 days
# 
# RATE LIMITING:
#   - 100 requests per hour per IP address
#   - Stored in Upstash Redis (survives restarts)
# 
# This is a server-only secret - never expose to the browser (no NEXT_PUBLIC_ prefix)
DELIVERY_SCOUT_API_KEY=a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0e1f2

# ==============================================================================
# SLACK NOTIFICATIONS (Team Alerts)
# ==============================================================================
# Slack webhook URL for sending new user signup notifications
# 
# HOW TO GET THIS:
#   1. Go to https://api.slack.com/apps
#   2. Select your Slack app (or create one)
#   3. Navigate to "Incoming Webhooks"
#   4. Enable incoming webhooks
#   5. Add new webhook to your channel (e.g., #new-signups)
#   6. Copy the webhook URL
# 
# SECURITY:
#   - This is a server-only secret (no NEXT_PUBLIC_ prefix)
#   - Never commit this to version control
#   - If webhook is compromised, regenerate it in Slack settings
# 
# USAGE:
#   - Automatically sends notification when new user signs up
#   - Triggered from SignUpForm.tsx after successful payment
#   - Fire-and-forget (doesn't block user signup if it fails)
# 
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# ==============================================================================
# SUPPORT HUB INTEGRATIONS (Delivery Scout + HelpScout)
# ==============================================================================
# Slack webhook for support ticket notifications (create/update)
# Used by: /app/api/delivery-scout/route.ts
# Get from: Slack Incoming Webhooks (e.g., #support channel)
SLACK_SUPPORT_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# HelpScout OAuth2 credentials for creating conversations and adding notes
# Used by: /app/api/delivery-scout/route.ts
# Get from: HelpScout Settings → Apps → Your App → OAuth2
# Uses Client Credentials grant flow
HELPSCOUT_APP_ID=your_helpscout_app_id_here
HELPSCOUT_APP_SECRET=your_helpscout_app_secret_here
HELPSCOUT_MAILBOX_ID=123456

# ==============================================================================
# ENVIRONMENT NOTES
# ==============================================================================
# NEXT_PUBLIC_* variables:
# - Exposed to the browser (safe for client-side use)
# - Use for: API keys that are designed to be public (Firebase, Stripe public key)
# - Do NOT use for: Secrets, private keys, or sensitive server-only data
#
# Server-only variables (no NEXT_PUBLIC_ prefix):
# - Only accessible on the server
# - Use for: Database credentials, private API keys, webhook secrets
# - Never exposed to the browser
#
# Development vs Production:
# - Use .env.local for local development (git-ignored)
# - Use Vercel/hosting platform's environment variable settings for production
# - Never commit actual credentials to version control
